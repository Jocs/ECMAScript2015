<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Weakset use</title>
	<script src='../node_modules/babel-core/browser.js'></script>
</head>
<body>
	<h3>WeakSet Usage</h3>
	<p>WeakSet 和set 类似：weakset成员只能是对象，而不能是其他类型的值。</p>
	<p>weakset中的对象都是弱引用，因此垃圾回收机制不考虑对weakset中的对象的引用</p>
	<p>也就是说其他对象不再饮用weakset中的对象时，垃圾回收机制自动回收对象内存，</p>
	<p>而不会考虑到weakset中的对象还在饮用。</p>
	<script type='text/babel'>
		let ws = new WeakSet();
		let o = {
			age: 12,
			get: function(){}
		};
		ws.add({name: 'luoran'});
		ws.add([1,3,4]);
		ws.add(window);
		console.log(ws.has(window));
		ws.delete(window);
		console.log(ws.has(window));
		ws.add(o);
		console.log(ws.has(o));
		ws.delete(o);
		console.log(ws.has(o));
	</script>
</body>
</html>